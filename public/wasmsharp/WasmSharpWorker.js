import { initializeWasmSharpModule } from "./initializeWasmSharpModule.js";
import { Compilation } from "./Compilation.js";
export class WasmSharpWorker {
    interop;
    constructor(interop) {
        this.interop = interop;
    }
    static async initializeAsync(options, callbacks) {
        const interop = await initializeWasmSharpModule(options, callbacks);
        return new WasmSharpWorker(interop);
    }
    createCompilationAsync(code) {
        return Promise.resolve(Compilation.create(code, this.interop));
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiV2FzbVNoYXJwV29ya2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vV2FzbVNoYXJwV29ya2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBRzNFLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUUvQyxNQUFNLE9BQU8sZUFBZTtJQUNOO0lBQXBCLFlBQW9CLE9BQTJCO1FBQTNCLFlBQU8sR0FBUCxPQUFPLENBQW9CO0lBQUcsQ0FBQztJQUNuRCxNQUFNLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxPQUFnQyxFQUFFLFNBQW9DO1FBQ2pHLE1BQU0sT0FBTyxHQUFHLE1BQU0seUJBQXlCLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBQ3BFLE9BQU8sSUFBSSxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQUNELHNCQUFzQixDQUFDLElBQVk7UUFDakMsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBQ2pFLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluaXRpYWxpemVXYXNtU2hhcnBNb2R1bGUgfSBmcm9tIFwiLi9pbml0aWFsaXplV2FzbVNoYXJwTW9kdWxlLmpzXCI7XHJcbmltcG9ydCB0eXBlIHsgV2FzbVNoYXJwTW9kdWxlQ2FsbGJhY2tzLCBXYXNtU2hhcnBNb2R1bGVPcHRpb25zIH0gZnJvbSBcIi4vV2FzbUNvbXBpbGVyLmpzXCI7XHJcbmltcG9ydCB7IENvbXBpbGF0aW9uSW50ZXJvcCB9IGZyb20gXCIuL0NvbXBpbGF0aW9uSW50ZXJvcC5qc1wiO1xyXG5pbXBvcnQgeyBDb21waWxhdGlvbiB9IGZyb20gXCIuL0NvbXBpbGF0aW9uLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgV2FzbVNoYXJwV29ya2VyIHtcclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGludGVyb3A6IENvbXBpbGF0aW9uSW50ZXJvcCkge31cclxuICBzdGF0aWMgYXN5bmMgaW5pdGlhbGl6ZUFzeW5jKG9wdGlvbnM/OiBXYXNtU2hhcnBNb2R1bGVPcHRpb25zLCBjYWxsYmFja3M/OiBXYXNtU2hhcnBNb2R1bGVDYWxsYmFja3MpIHtcclxuICAgIGNvbnN0IGludGVyb3AgPSBhd2FpdCBpbml0aWFsaXplV2FzbVNoYXJwTW9kdWxlKG9wdGlvbnMsIGNhbGxiYWNrcyk7XHJcbiAgICByZXR1cm4gbmV3IFdhc21TaGFycFdvcmtlcihpbnRlcm9wKTtcclxuICB9XHJcbiAgY3JlYXRlQ29tcGlsYXRpb25Bc3luYyhjb2RlOiBzdHJpbmcpIHtcclxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoQ29tcGlsYXRpb24uY3JlYXRlKGNvZGUsIHRoaXMuaW50ZXJvcCkpO1xyXG4gIH1cclxufVxyXG4iXX0=